<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor de YouTube Avanzado</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fab fa-youtube"></i> Reproductor de YouTube</h1>
        </header>

        <div class="search-container">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Buscar videos..." autocomplete="off">
                <button id="search-btn"><i class="fas fa-search"></i> Buscar</button>
                <button id="voice-btn"><i class="fas fa-microphone"></i> Voz</button>
            </div>
        </div>

        <div class="player-container">
            <div id="player"></div>
        </div>

        <div class="playlist-section">
            <div class="playlist-controls">
                <h2><i class="fas fa-list"></i> Playlist</h2>
                <div class="button-group">
                    <button id="add-current-btn"><i class="fas fa-plus"></i> Añadir actual</button>
                    <button id="save-playlist-btn"><i class="fas fa-save"></i> Guardar</button>
                    <button id="load-playlist-btn"><i class="fas fa-folder-open"></i> Cargar</button>
                    <button id="export-playlist-btn"><i class="fas fa-download"></i> Exportar</button>
                    <button id="import-playlist-btn"><i class="fas fa-upload"></i> Importar</button>
                    <button id="clear-playlist-btn"><i class="fas fa-trash"></i> Limpiar</button>
                </div>
            </div>
            <ul id="playlist"></ul>
        </div>

        <div class="search-results">
            <h2><i class="fas fa-search"></i> Resultados de búsqueda</h2>
            <div id="search-results"></div>
        </div>

        <!-- Modal para guardar playlist -->
        <div class="modal" id="save-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h3>Guardar Playlist</h3>
                <input type="text" id="playlist-name" placeholder="Nombre de la playlist">
                <button id="confirm-save">Guardar</button>
            </div>
        </div>

        <!-- Modal para cargar playlist -->
        <div class="modal" id="load-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h3>Cargar Playlist</h3>
                <div id="saved-playlists"></div>
            </div>
        </div>

        <!-- Modal para exportar playlist -->
        <div class="modal" id="export-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h3>Exportar Playlist</h3>
                <div class="export-options">
                    <button id="export-json"><i class="fas fa-code"></i> Exportar como JSON</button>
                    <button id="export-text"><i class="fas fa-file-alt"></i> Exportar como Texto</button>
                    <button id="export-share"><i class="fas fa-share-alt"></i> Compartir enlace</button>
                </div>
                <div class="export-preview">
                    <h4>Vista previa:</h4>
                    <pre id="export-preview-content"></pre>
                </div>
            </div>
        </div>

        <!-- Modal para importar playlist -->
        <div class="modal" id="import-modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h3>Importar Playlist</h3>
                <div class="import-options">
                    <div class="import-method active" id="method-upload">
                        <h4><i class="fas fa-file-upload"></i> Subir archivo</h4>
                        <input type="file" id="file-upload" accept=".json,.txt">
                        <div class="file-drop-area">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Arrastra y suelta tu archivo aquí</p>
                            <p>o haz clic para seleccionar</p>
                            <p class="file-info">Formatos soportados: JSON, TXT</p>
                        </div>
                    </div>
                    <div class="import-method" id="method-text">
                        <h4><i class="fas fa-paste"></i> Pegar texto</h4>
                        <textarea id="import-text" placeholder="Pega aquí el contenido de la playlist (JSON o texto plano)"></textarea>
                    </div>
                    <div class="import-method" id="method-url">
                        <h4><i class="fas fa-link"></i> Desde URL</h4>
                        <input type="text" id="import-url" placeholder="URL del archivo de playlist">
                    </div>
                </div>
                <div class="method-tabs">
                    <button class="method-tab active" data-method="upload"><i class="fas fa-file-upload"></i> Archivo</button>
                    <button class="method-tab" data-method="text"><i class="fas fa-paste"></i> Texto</button>
                    <button class="method-tab" data-method="url"><i class="fas fa-link"></i> URL</button>
                </div>
                <button id="confirm-import">Importar Playlist</button>
            </div>
        </div>
    </div>

    <div class="voice-status" id="voice-status">
        <i class="fas fa-microphone"></i> Escuchando...
    </div>

    <!-- Elemento oculto para descarga -->
    <a id="download-link" style="display: none;"></a>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="main.js"></script>
</body>
</html>